---
layout: default
title: USD概述
description: ""
permalink: /docs/overview
---

# USD介绍
{: .no_toc }
---
‎下面是关于USD主要功能的简要概述。该文档最初是一份内部备忘录，用来阐述USD的整体功能规划以及为什么需要这些功能，我们之前一直在比较内部使用的两个场景描述系统（Menva 和 TidScene），这也或多或少催生了开发USD的动机。而现在我们决定不在比较并将它们的功能结合在一起，于是就有了USD。当然其中也可能会有些功能令人困惑或者做的不够好，欢迎请‎‎在[USD技术论坛](https://groups.google.com/forum/#!forum/usd-interest)中告诉我们，以便我们可以解释或者改善。‎

‎本文档主要关注USD的‎‎[合成](https://graphics.pixar.com/usd/overview.html#USDFeatureSpecification-TerminologyComposition)功能‎‎方面，因为它们可能属于最令人陌生的概念。未来也会给出新的文档来讨论USD场景图表的机制，以及几何体和着色架构的细节。‎

#### 本页内容:
{: .no_toc }
1. TOC
{:toc}

## 问题描述
---
‎为了能够快速、经济地利用行业创新技术，在皮克斯，我们需要能够轻松地将新应用接入生产管线，以补充我们现有的工具集（包括我们专用的绑定与动画系统Presto），而不是使生产管线变得更加复杂。‎

‎而实现这一目标遇到多方面的障碍。其中一个主要因素是，我们应用之间的数据流框架本质上是一个异常复杂的格式转换器，结果是同一种数据却生成了多种表现（存储）形式。随着向姿势缓存管线的过渡，我们开始将更多数据转为一种更简单、跨软件的格式（TidScene），但到这并没有带来多少改善。而我们需要解决以下几个关键问题：‎

- 我们没有一个好的数据模型来表示所有工作流程。许多工作流内部已经拥有良好的数据模型，具有强大的分层和覆盖功能，但不同工作流之间的数据模型差异很大，我们花费了太多的时间和精力来转换数据，从而才能在工作流和数据包之间传递信息。‎
- ‎多种格式的资产与镜头文件导致更多的处理时间（Maya文件只能用Maya处理，Menva文件只能用Presto处理）。‎
- ‎我们依靠复杂的构建流程来生成我们需要的所有数据表示（由我们计划在生产管线中使用的应用程序决定），并保持同步。‎
- ‎即使扩展构建流程，也不是所有资产数据都能在所有应用之间互通（出于各种原因），这意味着在序列或镜头中只有部分数据能够被覆盖‎。
- 我们一直将构建变体作为资产的重要功能，但随着我们新动画系统的部署，变体是实时的，只能在动画系统中访问。
- 由于最后两点，艺术家需要预先规划资产在构建流程中的用途，因为在生产管线的末端就无法统一修改这些资产了


## 目标
---
从较高层次来讲。USD项目的目标在于：
- 提供模型和镜头（几何体、材质着色等）统一描述形式（数据模型），让任何应用程序都可以使用。
- 提供多种引用程序之间的数据通信方式，不仅要支持在各种应用程序中对数据进行分层、无损的编辑操作，同时也能够支持传统而且更可控的塌陷或烘焙操作。
- 为生产管线中的应用软件制定严格的通信协议
- 允许资产组合（集合）和镜头按需更新，而不必重新生成整个数据集
- 提供一种快速简洁的表示形式，同时便于扩展到大场景（可以有效控制应用程序的内存占用，项目所有资产和镜头的磁盘存储大小，以及网络带宽和缓存效率），而且方便调试。

对于项目生产最重要的三点：
    1. 稳定
    2. 高效
    3. 简单
### 为什么使用USD而不是Alembic
在USD项目开始时，对于Alembic和两个使用中的场景描述系统，我们有考虑过是否要在这三者之间选择一个作为基础来构建我们的场景数据管线。
不过很明显，文件引用和无损编辑的能力对于实现上述的可扩展以及增量更新的目标至关重要。虽然Alembic提供了一个足够好的解决方案来表示塌陷、烘焙或者动态的场景描述，但因为它并没有文件引用或者编码操作的能力，所有无法成为我们的管线数据的基础。

不过这并不排除将来Alembic和USD合并为一个实体。在此之前，原生Alembic文件可以作为USD中引用操作符的输入——也就是说，在一个USD场景中，用关系图来表示其中的文件引用关系的话，任何叶子节点都可以是Alembic文件。

### 


### 术语：什么是合成？

## 动机：可移植的管线数据
---

## 数据存储功能
---

### 数值表示

### 数据组合与对象模型

### ASCII与二进制

## 合成功能
---

### 层

### 激活

### 覆盖式引用

### 变体

### 类与继承

### 模型层级

### 舞台载入与引用

### 命名空间排序

### 关系

### 数值剪辑

## 管线数据示例
---

### 模型

### 聚合模型（集合与组合）

### 镜头

## 附录